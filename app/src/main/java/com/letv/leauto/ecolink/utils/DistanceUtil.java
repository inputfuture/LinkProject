package com.letv.leauto.ecolink.utils;import java.text.DecimalFormat;/** * Created by shimeng on 14/5/25. */public class DistanceUtil {    private static final double EARTH_RADIUS = 6378137;    private static double rad(double d) {        return d * Math.PI / 180.0;    }    /**     * 根据两点间经纬度坐标（double值），计算两点间距离，     *     * @param lat1     * @param lng1     * @param lat2     * @param lng2     * @return 距离：单位为米     */    public static double DistanceOfTwoPoints(double lat1, double lng1,                                             double lat2, double lng2) {        double radLat1 = rad(lat1);        double radLat2 = rad(lat2);        double a = radLat1 - radLat2;        double b = rad(lng1) - rad(lng2);        double s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a / 2), 2)                + Math.cos(radLat1) * Math.cos(radLat2)                * Math.pow(Math.sin(b / 2), 2)));        s = s * EARTH_RADIUS;        s = Math.round(s * 10000) / 10000;        return s;    }    public static String getDistanceStr(double distance) {        if(distance > 1000) {            float distanceValue = Math.round((distance / 100f)) / 10f;            DecimalFormat decimalFormat = new DecimalFormat("#0.0");//构造方法的字符格式这里如果小数不足2位,会以0补足.            String distanceString = decimalFormat.format(distanceValue);//format 返回的是字符串            return distanceString + "公里";        }        else {            long distanceValue = Math.round(distance);            return distanceValue + "米";        }    }}